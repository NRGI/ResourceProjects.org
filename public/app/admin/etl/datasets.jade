.container.top-padding-med
	.well
		legend Dataset Management
		.pull-right
			form.form-inline
				.form-group
					input.form-control(
					ng-model="search_text"
					placeholder="Filter")
				.form-group.margin-left-med
					select.form-control(
					ng-model="sort_order"
					ng-options="item.value as item.text for item in sort_options")
		table.table
			thead
				tr
					th Name
					th Source
					th Action History
					th Available Actions
			tbody
				tr(ng-repeat="dataset in datasets | filter:search_text | orderBy:sort_order")
					td
						{{dataset.name}}
					td {{dataset.source_url}}
					td 
						p(ng-repeat="action in dataset.actions")
							text {{action.name}}  
							span(ng-if="action.status == 'Success'", class=["label", "label-success"], data-toggle="tooltip", title="{{action.details}}") Success
							span(ng-if="action.status != 'Success'", class=["label", "label-danger"], data-toggle="tooltip", title="{{action.details}}") Failed
					td
						a.btn.center-block.btn-default(href="/admin/user-admin/{{user._id}}") Import
						span(ng-if="dataset.status.isReadyForChecked")
							a.btn.center-block.btn-default(href="/admin/user-admin/{{user._id}}") Mark as cleaned
						span(ng-if="!dataset.status.isReadyForChecked")
							a.btn.center-block.btn-default.disabled(href="/admin/user-admin/{{user._id}}") Mark as cleaned